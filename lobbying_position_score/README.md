# Lobbying Position Score Generation

Using the bill position dataset generated by the LLM and GNN, we apply a **MIRT** (Multidimensional Item Response Theory) model to estimate the latent scores of interest groups and bills, referred to as the `lobbying position score` and the `bill latent score,` respectively.


## Download Input & Output Data
Please download `score_input` and `score_output` from "Replication Data for: lobbying-position" (https://doi.org/10.7910/DVN/D0QWM2).



## Install
We install on Ubuntu 22.04 (jammy).
```bash
1. Install Required Tools
apt update
apt install -y --no-install-recommends software-properties-common dirmngr gnupg ca-certificates
```
2. Add the CRAN GPG Key
```bash
apt-key adv --keyserver keyserver.ubuntu.com --recv-keys 'E298A3A825C0D65DFD57CBB651716619E084DAB9'
```

3. Add the Official CRAN Repository
```bash
add-apt-repository "deb https://cloud.r-project.org/bin/linux/ubuntu jammy-cran40/"
jammy-cran40 corresponds to Ubuntu 22.04.
```

4. Install R
```bash
apt update
apt install -y r-base
```

5. Install packages
```bash
R
source("install_packages.R")
q() # exit R
```

## Run MIRT model
Run the MIRT model in `measure_lobbying_position_score.ipynb` to obtain the `lobbying position score` and `bill_latent_score.csv`, along with the `reliability score` and `standard error`.

### Score Input
This is a position matrix constructed using only interest groups and bills that have either lobbied or been lobbied at least 10 times.


### Score Output
The output of the MIRT model includes the `lobbying_position_score.csv` for each interest group and the `bill_latent_score.csv` for each bill.

